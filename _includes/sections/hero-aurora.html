{% comment %}
  Aurora Hero Section - Modern hero with animated aurora background
  Usage: {% include sections/hero-aurora.html 
    title="Your Title" 
    subtitle="Your subtitle" 
    badge="Badge text"
    cta_primary_text="Primary CTA"
    cta_primary_url="#"
    cta_secondary_text="Secondary CTA"
    cta_secondary_url="#"
  %}
  
  Parameters:
  - title: Main heading (supports HTML)
  - subtitle: Subheading text
  - badge: Optional badge text
  - cta_primary_text: Primary button text
  - cta_primary_url: Primary button URL
  - cta_secondary_text: Secondary button text (optional)
  - cta_secondary_url: Secondary button URL (optional)
  - features: Array of feature badges (optional)
  - particles: true/false - Enable particle effects (default: true)
{% endcomment %}

{% assign particles = include.particles | default: true %}

<section class="relative min-h-[90vh] flex items-center justify-center overflow-hidden bg-dark-surface">
  <!-- Aurora Background -->
  <div class="absolute inset-0 aurora-bg-animated opacity-30"></div>
  
  <!-- Mesh Gradient Overlay -->
  <div class="absolute inset-0 bg-gradient-mesh opacity-20"></div>
  
  <!-- Grid Pattern -->
  <div class="absolute inset-0 opacity-10">
    <div class="h-full w-full bg-[linear-gradient(to_right,#ffffff0a_1px,transparent_1px),linear-gradient(to_bottom,#ffffff0a_1px,transparent_1px)] bg-[size:4rem_4rem]"></div>
  </div>
  
  <!-- Floating Particles -->
  {% if particles %}
  <div class="particle-container">
    {% for i in (1..20) %}
      <div class="particle" 
           style="left: {{ i | times: 5 }}%; 
                  animation-delay: {{ i | times: 0.5 }}s; 
                  animation-duration: {{ i | plus: 15 }}s;">
      </div>
    {% endfor %}
  </div>
  {% endif %}
  
  <!-- Content -->
  <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    {% if include.badge %}
    <div class="inline-flex items-center px-4 py-2 mb-8 rounded-full 
                bg-white/5 backdrop-blur-md border border-white/10
                text-sm font-medium text-white/90 hover:bg-white/10 
                transition-all duration-300 hover:scale-105"
         x-data 
         x-motion="{ animate: { opacity: [0, 1], scale: [0.8, 1] }, duration: 0.6 }">
      <span class="w-2 h-2 bg-neon-cyan rounded-full mr-2 animate-pulse"></span>
      {{ include.badge }}
    </div>
    {% endif %}
    
    <!-- Main Title -->
    <h1 class="fluid-text-xl font-light mb-6 tracking-tight text-white"
        x-data 
        x-motion="{ animate: { opacity: [0, 1], y: [30, 0] }, duration: 0.8, delay: 0.1 }">
      <span class="letter-stagger">
        {% assign words = include.title | split: ' ' %}
        {% for word in words %}
          {% assign letters = word | split: '' %}
          {% for letter in letters %}
            <span style="--index: {{ forloop.index0 }}">{{ letter }}</span>
          {% endfor %}
          {% unless forloop.last %}&nbsp;{% endunless %}
        {% endfor %}
      </span>
    </h1>
    
    <!-- Subtitle -->
    {% if include.subtitle %}
    <p class="fluid-text-md mb-10 text-white/80 max-w-3xl mx-auto font-light"
       x-data 
       x-motion="{ animate: { opacity: [0, 1], y: [30, 0] }, duration: 0.8, delay: 0.3 }">
      {{ include.subtitle }}
    </p>
    {% endif %}
    
    <!-- CTA Buttons -->
    <div class="flex flex-col sm:flex-row gap-4 justify-center mb-12"
         x-data 
         x-motion="{ animate: { opacity: [0, 1], y: [30, 0] }, duration: 0.8, delay: 0.5 }">
      {% if include.cta_primary_text %}
        {% include ui/button.html 
          text=include.cta_primary_text 
          href=include.cta_primary_url
          variant="neon" 
          size="lg" 
          effect="glow"
          class="hover-lift" %}
      {% endif %}
      
      {% if include.cta_secondary_text %}
        {% include ui/button.html 
          text=include.cta_secondary_text 
          href=include.cta_secondary_url
          variant="aurora" 
          size="lg"
          class="hover-lift" %}
      {% endif %}
    </div>
    
    <!-- Feature Badges -->
    {% if include.features %}
    <div class="flex flex-wrap justify-center gap-6 text-white/80 text-sm">
      {% for feature in include.features %}
        <div class="flex items-center space-x-2 glass-modern px-4 py-2 rounded-full"
             x-data 
             x-motion="{ animate: { opacity: [0, 1], x: [-20, 0] }, duration: 0.6, delay: {{ forloop.index0 | times: 0.1 | plus: 0.6 }} }">
          {% if feature.icon %}
            <span class="text-neon-cyan">{{ feature.icon }}</span>
          {% else %}
            <svg class="w-5 h-5 text-neon-cyan" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
          {% endif %}
          <span>{{ feature.text }}</span>
        </div>
      {% endfor %}
    </div>
    {% endif %}
  </div>
  
  <!-- Bottom Gradient Fade -->
  <div class="absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-dark-surface to-transparent"></div>
  
  <!-- Scroll Indicator -->
  <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2">
    <div class="w-6 h-10 border-2 border-white/30 rounded-full p-1">
      <div class="w-1 h-3 bg-white/60 rounded-full mx-auto animate-bounce"></div>
    </div>
  </div>
</section>

<!-- Initialize Hero Interactions -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Parallax effect on mouse move
  const hero = document.querySelector('.hero-aurora');
  if (hero) {
    hero.addEventListener('mousemove', (e) => {
      const x = (e.clientX / window.innerWidth - 0.5) * 20;
      const y = (e.clientY / window.innerHeight - 0.5) * 20;
      
      const particles = hero.querySelectorAll('.particle');
      particles.forEach((particle, index) => {
        const speed = (index + 1) * 0.5;
        particle.style.transform = `translate(${x * speed}px, ${y * speed}px)`;
      });
    });
  }
});
</script>