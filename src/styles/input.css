@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base Typography Improvements */
@layer base {
  html {
    @apply scroll-smooth;
    font-feature-settings: 'cv11', 'ss01';
    font-variation-settings: 'opsz' 32;
  }
  
  body {
    @apply antialiased;
  }
  
  /* Improved focus styles */
  *:focus {
    outline: none;
  }
  
  *:focus-visible {
    @apply ring-2 ring-primary-500 ring-offset-2;
  }
}

/* Component Classes */
@layer components {
  /* Enhanced Markdown Styles with Typography Plugin */
  .markdown-content {
    @apply prose prose-lg prose-gray max-w-none
           prose-headings:font-semibold 
           prose-h1:text-4xl prose-h1:font-bold prose-h1:mb-8 prose-h1:tracking-tight
           prose-h2:text-3xl prose-h2:font-semibold prose-h2:mb-6 prose-h2:mt-12 prose-h2:border-b-2 prose-h2:border-gray-200 prose-h2:pb-3
           prose-h3:text-2xl prose-h3:font-semibold prose-h3:mb-4 prose-h3:mt-8
           prose-h4:text-xl prose-h4:font-medium prose-h4:mb-3 prose-h4:mt-6
           prose-p:text-gray-700 prose-p:leading-loose prose-p:mb-6
           prose-a:text-primary-600 prose-a:font-medium prose-a:no-underline hover:prose-a:text-primary-700 prose-a:transition-colors
           prose-strong:text-gray-900 prose-strong:font-semibold
           prose-ul:list-disc prose-ul:ml-6 prose-ul:space-y-3
           prose-ol:list-decimal prose-ol:ml-6 prose-ol:space-y-3
           prose-li:text-gray-700 prose-li:leading-relaxed prose-li:pl-2
           prose-blockquote:border-l-4 prose-blockquote:border-primary-500 prose-blockquote:bg-primary-50 prose-blockquote:rounded-r-lg prose-blockquote:not-italic prose-blockquote:px-6 prose-blockquote:py-4
           prose-code:bg-gray-100 prose-code:px-2 prose-code:py-1 prose-code:rounded-md prose-code:text-sm prose-code:font-mono prose-code:before:content-none prose-code:after:content-none
           prose-pre:bg-gray-900 prose-pre:text-gray-100 prose-pre:rounded-xl prose-pre:border prose-pre:border-gray-700 prose-pre:shadow-lg
           prose-table:rounded-xl prose-table:overflow-hidden prose-table:shadow-sm
           prose-th:bg-gray-100 prose-th:border prose-th:border-gray-200 prose-th:px-6 prose-th:py-3 prose-th:text-left prose-th:font-semibold
           prose-td:border prose-td:border-gray-200 prose-td:px-6 prose-td:py-3
           prose-img:rounded-xl prose-img:shadow-lg prose-img:my-8 prose-img:mx-auto;
  }
  
  /* 代码块语法高亮 */
  .markdown-content pre {
    @apply bg-gray-900 text-gray-100 p-6 rounded-xl overflow-x-auto;
    tab-size: 2;
  }
  
  .markdown-content pre code {
    @apply bg-transparent p-0 text-sm leading-relaxed;
  }
  
  /* 内联代码样式 */
  .markdown-content :not(pre) > code {
    @apply bg-primary-100 text-primary-900 px-1.5 py-0.5 rounded text-sm font-medium;
  }
  
  /* Button Components */
  .btn {
    @apply inline-flex items-center justify-center px-6 py-3 font-medium rounded-lg transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
  }
  
  .btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500;
  }
  
  .btn-secondary {
    @apply bg-secondary-600 text-white hover:bg-secondary-700 focus-visible:ring-secondary-500;
  }
  
  .btn-outline {
    @apply border-2 border-primary-600 text-primary-600 hover:bg-primary-50 focus-visible:ring-primary-500;
  }
  
  /* Card Components */
  .card {
    @apply bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden;
  }
  
  .card-hover {
    @apply hover:shadow-lg hover:-translate-y-1 transition-all duration-200;
  }
  
  /* Gradient Text */
  .gradient-text {
    @apply bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent;
  }
  
  /* Loading States */
  .skeleton {
    @apply relative overflow-hidden bg-gray-200;
  }
  
  .skeleton::after {
    content: '';
    @apply absolute top-0 -left-full w-full h-full;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    animation: skeleton-loading 1.5s infinite;
  }
}

/* Utility Classes */
@layer utilities {
  /* Text Selection */
  .text-select-primary ::selection {
    @apply bg-primary-200 text-primary-900;
  }
  
  /* Smooth Scroll for Specific Elements */
  .smooth-scroll {
    scroll-behavior: smooth;
  }
  
  /* No Scrollbar */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  /* Custom Scrollbar */
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-gray-100 rounded-full;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-gray-400 rounded-full hover:bg-gray-500;
  }
  
  /* Gradient Backgrounds */
  .gradient-primary {
    @apply bg-gradient-to-r from-primary-500 to-secondary-500;
  }
  
  .gradient-aurora {
    background: linear-gradient(-45deg, #667eea, #764ba2, #f093fb, #f5576c);
    background-size: 400% 400%;
    animation: aurora 15s ease infinite;
  }
  
  @keyframes aurora {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  
  /* Hero Section Styles */
  .hero-bg {
    @apply relative;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    position: relative;
    overflow: hidden;
  }
  
  .hero-bg::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    bottom: -50%;
    left: -50%;
    background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
    background-size: 20px 20px;
    animation: backgroundScroll 60s linear infinite;
    opacity: 0.5;
  }
  
  .hero-bg::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
      radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
      radial-gradient(circle at 40% 20%, rgba(255, 219, 112, 0.2) 0%, transparent 50%);
    animation: floatAnimation 20s ease-in-out infinite;
  }
  
  @keyframes backgroundScroll {
    to {
      transform: translate(20px, 20px);
    }
  }
  
  @keyframes floatAnimation {
    0%, 100% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(30px, -30px) scale(1.1); }
    66% { transform: translate(-20px, 20px) scale(0.9); }
  }
  
  /* Page Loader */
  .page-loader {
    @apply fixed inset-0 bg-white flex items-center justify-center z-50 transition-opacity duration-500;
  }
  
  .page-loader.hidden {
    @apply opacity-0 pointer-events-none;
  }
  
  .loader-icon {
    @apply w-12 h-12 border-[3px] border-gray-200 border-t-primary-500 rounded-full;
    animation: spin 1s linear infinite;
  }
  
  @keyframes spin {
    to { transform: rotate(360deg); }
  }
}

/* Motion Animations */
@layer utilities {
  /* Fade animations */
  .fade-in {
    animation: fadeIn 0.3s ease-out forwards;
  }
  
  .fade-in-up {
    @apply opacity-0 translate-y-4;
    animation: fadeInUp 0.5s ease-out forwards;
  }
  
  @keyframes fadeInUp {
    to {
      @apply opacity-100 translate-y-0;
    }
  }
  
  /* Scroll animations */
  .scroll-fade {
    @apply transition-all duration-700 ease-out;
  }
  
  .scroll-fade:not(.animated) {
    @apply opacity-0 translate-y-8;
  }
  
  .scroll-fade.visible,
  .scroll-fade.animated {
    @apply opacity-100 translate-y-0;
  }
  
  /* Interactive elements */
  .interactive {
    @apply transition-all duration-200 cursor-pointer;
  }
}

/* Print Styles */
@media print {
  .no-print {
    @apply hidden !important;
  }
  
  .glass-card {
    @apply bg-white border border-gray-300 shadow-none;
  }
}